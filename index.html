<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Niranjan Balaji J | Portfolio</title>
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="assets/js/script.js" defer></script>
    <script>
        document.addEventListener('contextmenu', event => event.preventDefault());
        document.onkeydown = function (e) {
            if (e.keyCode == 123) { return false; }
            if (e.ctrlKey && e.shiftKey && e.keyCode == 'I'.charCodeAt(0)) { return false; }
            if (e.ctrlKey && e.shiftKey && e.keyCode == 'C'.charCodeAt(0)) { return false; }
            if (e.ctrlKey && e.shiftKey && e.keyCode == 'J'.charCodeAt(0)) { return false; }
            if (e.ctrlKey && e.keyCode == 'U'.charCodeAt(0)) { return false; }
        }
    </script>
</head>

    <style>
        :root {
    --bg-color: #0d0d0d;
    --card-bg: #1a1a1a;
    --card-hover: #252525;
    --text-primary: #ffffff;
    --text-secondary: #a1a1a1;
    --accent-color: #8abd00;
    --accent-hover: #8bbd00af;
    --accent-highlight: #46fdd4;
    --border-radius: 20px;
    --gap: 16px;
    --font-main: 'Outfit', sans-serif;
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    background: #000;
    background-attachment: fixed;
    color: var(--text-primary);
    font-family: var(--font-main);
    display: flex;
    justify-content: center;
    padding: 60px 20px;
    min-height: 100vh;
}

.bento-container {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    grid-template-rows: auto auto auto auto;
    gap: 20px;
    max-width: 1240px;
    width: 100%;
    grid-template-areas:
        "profile profile stat1 stat2"
        "profile profile stat3 objective"
        "exp exp project1 project2"
        "skills skills inquiry inquiry"
        "edu extra social social";
}

/* Card Styles - Premium Look */
.card {
    background: linear-gradient(145deg, #1e1e1e, #141414);
    border-radius: 24px;
    padding: 28px;
    transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
    border: 1px solid rgba(255, 255, 255, 0.06);
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);
    display: flex;
    flex-direction: column;
    position: relative;
    overflow: hidden;
}

.card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 1px;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
}

.card:hover {
    transform: translateY(-4px);
    border-color: rgba(255, 255, 255, 0.15);
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.6);
}

/* Typography */
h1 {
    font-size: 2rem;
    font-weight: 700;
    margin-bottom: 4px;
}

h2 {
    font-size: 1.5rem;
    font-weight: 600;
    margin-bottom: 16px;
    color: var(--text-primary);
}

h3 {
    font-size: 1.2rem;
    font-weight: 600;
    margin-bottom: 4px;
    color: var(--text-primary);
}

h4 {
    font-size: 0.9rem;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 1px;
    color: var(--text-secondary);
    margin-bottom: 8px;
    margin-top: 12px;
}

p {
    font-size: 0.95rem;
    color: var(--text-secondary);
    line-height: 1.5;
}

/* Profile Card */
/* Profile Card */
.profile-card {
    display: flex;
    flex-direction: row;
    position: relative;
    gap: 20px;
    align-items: stretch;
}

.profile-content-left {
    flex: 1.2;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    padding-right: 10px;
}


.avatar-placeholder {
    width: 60px;
    height: 60px;
    background: rgb(138 189 0);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
    font-weight: bold;
    color: white;
    margin-bottom: 12px;
}

.profile-branding h1 {
    font-size: 2.2rem;
    line-height: 1.1;
    margin-bottom: 8px;
}

.profile-branding .mini-logo {
    display: inline-block;
    font-size: 0.9rem;
    font-weight: 700;
    margin-bottom: 12px;
    color: var(--text-secondary);
    text-transform: uppercase;
    letter-spacing: 1px;
}

.profile-contact-details p {
    margin-bottom: 8px;
    display: flex;
    align-items: center;
    gap: 10px;
}

.profile-image-right {
    flex: 0.8;
    background: #2a2a2a;
    border-radius: 16px;
    overflow: hidden;
    position: relative;
    border: 1px solid rgba(255, 255, 255, 0.05);
    height: 100%;
}

/* Gaming Hover Effect: Border Trace */
.profile-image-right::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    border: 2px solid var(--accent-color);
    border-radius: 16px;
    clip-path: polygon(0 0, 0 0, 0 0, 0 0);
    /* Start hidden */
    transition: 0.5s ease;
    z-index: 5;
    pointer-events: none;
}

.profile-image-right:hover::before {
    clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%);
    /* Reveal full border */
    /* Enhance with a glow if desired, but polygon clip gives a 'wipe' reveal sort of feeling from TL to BR */
}

/* Alternative 'Start to Destination' moving dot */
.profile-image-right::after {
    content: '';
    position: absolute;
    width: 100%;
    height: 4px;
    /* Scan line */
    background: var(--accent-color);
    box-shadow: 0 0 15px var(--accent-color);
    top: 0;
    left: 0;
    opacity: 0;
    z-index: 6;
    pointer-events: none;
}

.profile-image-right:hover::after {
    animation: scanLine 1.5s linear infinite;
    opacity: 1;
}

@keyframes scanLine {
    0% {
        top: 0;
    }

    50% {
        top: 100%;
    }

    100% {
        top: 0;
    }
}

.profile-image-right img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
}

.btn.primary {
    display: inline-block;
    background-color: var(--accent-color);
    color: white;
    padding: 12px 24px;
    border-radius: 12px;
    text-decoration: none;
    font-weight: 600;
    transition: background 0.2s;
    text-align: center;
    border: none;
    cursor: pointer;
}

.btn.primary:hover {
    background: rgba(255, 255, 255, 0.1);
    color: var(--accent-color);
}

/* Stat Cards */
.stat-card {
    align-items: center;
    justify-content: center;
    text-align: center;
}

.stat-card h3 {
    font-size: 2.5rem;
    color: var(--accent-color);
}

/* Experience Card */
.exp-item {
    margin-bottom: 16px;
}

.exp-header {
    display: flex;
    justify-content: space-between;
    align-items: baseline;
    margin-bottom: 8px;
    flex-wrap: wrap;
}

.exp-header h3 {
    font-size: 1.1rem;
    margin: 0;
}

.exp-header .company {
    color: var(--accent-color);
    font-weight: 600;
    margin-left: 8px;
}

.exp-header .date {
    font-size: 0.85rem;
    color: var(--text-secondary);
    margin-left: auto;
}

.exp-item ul {
    list-style-position: inside;
    color: var(--text-secondary);
    font-size: 0.9rem;
}

hr {
    border: 0;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    margin: 16px 0;
}

/* Skills Card */
.tags {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
}

.tags span {
    background: rgba(255, 255, 255, 0.08);
    padding: 6px 12px;
    border-radius: 8px;
    font-size: 0.85rem;
    color: var(--text-primary);
}

/* Project Card */
.project-card h2 {
    margin-bottom: 4px;
}

.tag {
    color: var(--accent-color);
    font-size: 0.9rem;
    font-weight: 500;
    margin-bottom: 16px;
    display: inline-block;
}

.project-card ul {
    list-style-type: disc;
    padding-left: 20px;
}

.project-card li {


    margin-bottom: 8px;
    color: var(--text-secondary);
}

.view-more-btn {
    position: absolute;
    bottom: 20px;
    right: 20px;
    padding: 6px 14px;
    background: rgb(138 189 0);
    border-radius: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    color: var(--text-primary);
    text-decoration: none;
    transition: all 0.2s ease;
    border: 1px solid rgba(255, 255, 255, 0.1);
    font-size: 0.85rem;
    font-weight: 500;
}

.view-more-btn:hover {
    background: rgba(255, 255, 255, 0.1);
    color: var(--accent-color);
}

.view-more-btn:hover i {
    transform: rotate(90deg);
    /* Only rotate the icon */
}

/* Project Stat Card (Future Style) */
.project-stat-card {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
}

.project-count {
    font-size: 3rem;
    font-weight: 700;
    color: var(--text-primary);
    line-height: 1.2;
}

.project-stat-title {
    color: var(--text-secondary);
    margin-bottom: 20px;
    font-size: 1rem;
}

.project-icons {
    display: flex;
    gap: 12px;
    flex-wrap: wrap;
    /* Allow wrapping for multiple icons */
    justify-content: center;
    /* Center the grid of icons */
    max-width: 240px;
    /* Constrain width to force wrapping if needed */
}

.icon-circle {
    width: 44px;
    height: 44px;
    border-radius: 50%;
    background: #2a2a2a;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 1.2rem;
    position: relative;
    border: 1px solid rgba(255, 255, 255, 0.05);
}

.icon-circle.accent {
    background: var(--accent-color);
    box-shadow: 0 0px 29px rgb(255 102 54);
    border: none;
}

/* Socials */
.social-card h3 {
    text-align: center;
}

.social-links {
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.social-btn {
    display: block;
    padding: 12px;
    border-radius: 12px;
    background: rgb(138 189 0);
    color: var(--text-primary);
    text-decoration: none;
    text-align: center;
    align-items: center;
    justify-content: center;
    text-align: center;
}


.social-btn.behance:hover {
    background: rgba(255, 255, 255, 0.1);
    color: var(--accent-color);
}

.social-btn.behance {
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.social-btn.linkedin {
    background: #0077b5;
    color: white;
}

.social-btn.linkedin:hover {
    background: rgba(255, 255, 255, 0.1);
    color: #0077b5;
}

/* Inquiry Card */
.inquiry-card {
    text-align: center;
    background-color: #0d0d0d;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 30px;
    position: relative;
    overflow: hidden;
}

.inquiry-content {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 16px;
    position: relative;
    z-index: 2;
    /* Increased to be clearly on top */
}

/* Floating Illustrations */
.floating-icon {
    position: absolute;
    opacity: 0.08;
    /* More subtle */
    pointer-events: none;
    z-index: 1;
    transition: transform 0.3s ease;
}


.inquiry-card:hover .floating-icon {
    transform: scale(1.1);
}

.floating-icon.laptop {
    width: 150px;
    top: -50px;
    left: -50px;
    transform: rotate(25deg);
}

.floating-icon.notepad {
    width: 120px;
    bottom: -40px;
    right: -30px;
    transform: rotate(-15deg);
}

.floating-icon.pen-coffee {
    width: 100px;
    top: 250px;
    right: 150px;
    transform: translateY(-50%) rotate(10deg);
}

.floating-icon.headphones {
    width: 110px;
    top: 30px;
    right: 15px;
    transform: rotate(-25deg);
}

.floating-icon.plant {
    width: 90px;
    bottom: -20px;
    left: -20px;
    transform: rotate(10deg);
}

.floating-icon.mouse {
    width: 70px;
    top: 5%;
    left: 45%;
    transform: translateX(-50%) rotate(35deg);
}

.floating-icon.tablet {
    width: 130px;
    bottom: 43%;
    right: 350px;
    transform: translateY(50%) rotate(-10deg);
}

.floating-icon.glasses {
    width: 100px;
    bottom: 0px;
    left: 235px;
    transform: translateX(-50%) rotate(15deg);
}

.inquiry-icon {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    color: white;
    margin-bottom: 8px;
    background: rgba(255, 255, 255, 0.05);
}

.inquiry-icon.accent-bg {
    background-color: var(--accent-color);
    box-shadow: 0 4px 15px rgba(255, 87, 34, 0.3);
    color: white;
}

.inquiry-card h3 {
    font-size: 1.8rem;
    line-height: 1.2;
    margin-bottom: 8px;
}

.copy-btn {
    background: white !important;
    color: black !important;
    border-radius: 30px;
    padding: 12px 30px;
    font-weight: 700;
    text-decoration: none;
    display: inline-block;
    transition: background 0.2s;
}

.copy-btn:hover {
    background: #e0e0e0 !important;
}


/* Custom Tooltip Toast */
.tool-toast {
    position: absolute;
    background: rgba(0, 0, 0, 0.9);
    color: white;
    padding: 6px 12px;
    border-radius: 6px;
    font-size: 0.85rem;
    font-weight: 500;
    pointer-events: none;
    white-space: nowrap;
    z-index: 1000;
    opacity: 0;
    transition: opacity 0.2s ease, transform 0.2s ease;
    transform: translateY(10px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5);
}

.tool-toast.visible {
    opacity: 1;
    transform: translateY(0);
}

/* Responsive Media Queries */
@media (max-width: 1024px) {
    .bento-container {
        grid-template-columns: repeat(3, 1fr);
        grid-template-areas:
            "profile profile stat1"
            "profile profile stat2"
            "objective objective stat3"
            "exp exp exp"
            "project1 project1 project2"
            "skills skills inquiry"
            "edu extra social";
    }
}

@media (max-width: 768px) {
    .bento-container {
        grid-template-columns: 1fr;
        grid-template-areas:
            "profile"
            "objective"
            "stat1"
            "stat2"
            "stat3"
            "exp"
            "project1"
            "project2"
            "skills"
            "inquiry"
            "edu"
            "extra"
            "social";
        gap: 20px;
    }

    .profile-card {
        flex-direction: column;
        text-align: center;
    }

    .profile-content-left {
        padding-right: 0;
    }

    .profile-image-right {
        min-height: 250px;
        margin-top: 20px;
    }
}

            body {
        background-color: #0d0d0d;
        /* Force dark background */
        color: white;
        padding-top: 50px;
        font-family: 'Outfit', sans-serif;
    }

    .section-title {
        text-align: center;
        margin-bottom: 40px;
    }

    .section-title h1 {
        font-weight: 700;
        margin-bottom: 10px;
    }

    .section-title h1 u {
        text-decoration-color: #8abd00;
        /* Accent color underline */
        text-underline-offset: 8px;
    }

    .project-card-custom {
        background-color: #1a1a1a;
        border: 1px solid #333;
        border-radius: 20px;
        padding: 25px;
        height: 100%;
        transition: transform 0.3s ease, border-color 0.3s ease;
        display: flex;
        flex-direction: column;
        align-items: flex-start;
    }

    .project-card-custom:hover {
        transform: translateY(-5px);
        border-color: #8abd00;
    }

    .project-tag {
        background: rgba(138, 189, 0, 0.1);
        color: #8abd00;
        padding: 4px 12px;
        border-radius: 20px;
        font-size: 0.8rem;
        font-weight: 600;
        display: inline-block;
        margin-bottom: 15px;
    }

    .project-card-custom h3 {
        font-size: 1.4rem;
        margin-bottom: 15px;
    }

    .project-card-custom p {
        color: #ccc;
        font-size: 0.95rem;
        line-height: 1.6;
        margin-bottom: 20px;
    }

    .btn-view {
        text-decoration: none;
        color: white;
        font-weight: 600;
        display: inline-flex;
        align-items: center;
        gap: 8px;
        transition: color 0.2s;
        margin-top: auto;
    }

    .btn-view:hover {
        color: #8abd00;
    }

    .back-btn-container {
        margin-bottom: 30px;
    }

    .back-btn {
        display: inline-block;
        background-color: var(--accent-color);
        color: white;
        padding: 12px 24px;
        border-radius: 12px;
        text-decoration: none;
        font-weight: 600;
        transition: background 0.2s;
        text-align: center;
        border: none;
        cursor: pointer;
    }

    .back-btn:hover {
        background: rgba(255, 255, 255, 0.1);
        color: var(--accent-color);
    }
        :root {
    --sidebar-width: 260px;
    --card-bg: rgba(22, 22, 22, 0.7);
    --card-border: rgba(255, 255, 255, 0.08);
    --accent-color: #8abd00;
    --accent-glow: rgba(138, 189, 0, 0.2);
    --text-primary: #ffffff;
    --text-secondary: #a0a0a0;
    --danger: #ff4757;
    --success: #2ecc71;
    --warning: #ffa502;
}

body {
    background-color: #050505;
    background-image: radial-gradient(circle at 15% 50%, rgba(138, 189, 0, 0.08), transparent 25%),
        radial-gradient(circle at 85% 30%, rgba(255, 255, 255, 0.03), transparent 25%);
    font-family: 'Outfit', sans-serif;
    color: var(--text-primary);
    overflow-x: hidden;
    min-height: 100vh;
}

/* Sidebar */
.sidebar {
    width: var(--sidebar-width);
    height: 100vh;
    position: fixed;
    left: 0;
    top: 0;
    background: rgba(10, 10, 10, 0.8);
    backdrop-filter: blur(15px);
    border-right: 1px solid var(--card-border);
    padding: 30px 20px;
    display: flex;
    flex-direction: column;
    z-index: 1000;
    transition: transform 0.3s ease;
}

.brand {
    font-size: 1.4rem;
    font-weight: 700;
    margin-bottom: 50px;
    display: flex;
    align-items: center;
    gap: 12px;
    color: #fff;
    text-decoration: none;
    letter-spacing: -0.5px;
}

.brand i {
    color: var(--accent-color);
}

.nav-item {
    margin-bottom: 8px;
}

.nav-link {
    color: var(--text-secondary);
    padding: 14px 18px;
    border-radius: 14px;
    text-decoration: none;
    display: flex;
    align-items: center;
    gap: 14px;
    font-weight: 500;
    transition: all 0.3s ease;
    border: 1px solid transparent;
}

.nav-link:hover {
    background: rgba(255, 255, 255, 0.03);
    color: #fff;
}

.nav-link.active {
    background: var(--accent-glow);
    color: var(--accent-color);
    border-color: rgba(138, 189, 0, 0.3);
    box-shadow: 0 0 15px rgba(138, 189, 0, 0.1);
}

.nav-link i {
    width: 20px;
    text-align: center;
}

/* Main Content */
.main-content {
    margin-left: var(--sidebar-width);
    padding: 40px;
}

.header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 40px;
}

/* Glass Panels */
.glass-panel {
    background: var(--card-bg);
    backdrop-filter: blur(12px);
    border: 1px solid var(--card-border);
    border-radius: 24px;
    padding: 25px;
    height: 100%;
    position: relative;
    overflow: hidden;
    transition: transform 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease;
}

.glass-panel:hover {
    border-color: rgba(138, 189, 0, 0.3);
    transform: translateY(-4px);
    box-shadow: 0 10px 30px -10px rgba(0, 0, 0, 0.5);
}

/* Dashboard Metrics */
.agent-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 25px;
}

.agent-icon {
    width: 54px;
    height: 54px;
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.05);
    border-radius: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.4rem;
    color: var(--accent-color);
    box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.5);
}

.status-badge {
    font-size: 0.75rem;
    padding: 6px 12px;
    border-radius: 30px;
    background: rgba(20, 20, 20, 0.8);
    border: 1px solid rgba(255, 255, 255, 0.1);
    color: var(--text-secondary);
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 8px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.status-badge.active {
    color: var(--success);
    border-color: rgba(46, 204, 113, 0.2);
    background: rgba(46, 204, 113, 0.05);
}

.status-badge.active .status-dot {
    background: var(--success);
    box-shadow: 0 0 10px var(--success);
    animation: pulse 2s infinite;
}

.status-badge.stopped {
    color: var(--danger);
    border-color: rgba(255, 71, 87, 0.2);
    background: rgba(255, 71, 87, 0.05);
}

.status-badge.stopped .status-dot {
    background: var(--danger);
    box-shadow: none;
}

.status-dot {
    width: 6px;
    height: 6px;
    border-radius: 50%;
}

@keyframes pulse {
    0% {
        opacity: 1;
    }

    50% {
        opacity: 0.4;
    }

    100% {
        opacity: 1;
    }
}

.metric-value {
    font-size: 2.2rem;
    font-weight: 700;
    margin-bottom: 2px;
    background: linear-gradient(180deg, #fff, #bbb);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}

.metric-label {
    color: var(--text-secondary);
    font-size: 0.85rem;
    font-weight: 500;
}

/* System Terminal */
.terminal-window {
    background: #080808;
    border: 1px solid #222;
    border-radius: 16px;
    padding: 0;
    font-family: 'Courier New', monospace;
    overflow: hidden;
    height: 300px;
    display: flex;
    flex-direction: column;
}

.terminal-header {
    background: #151515;
    padding: 8px 15px;
    border-bottom: 1px solid #222;
    display: flex;
    gap: 8px;
    align-items: center;
}

.term-dot {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background: #333;
}

.term-dot.red {
    background: #ff5f56;
}

.term-dot.yellow {
    background: #ffbd2e;
}

.term-dot.green {
    background: #27c93f;
}

.terminal-body {
    padding: 15px;
    overflow-y: auto;
    flex-grow: 1;
    color: #00ff00;
    font-size: 0.85rem;
    line-height: 1.5;
}

.log-entry {
    margin-bottom: 6px;
    opacity: 0;
    animation: fadeInLog 0.2s forwards;
}

@keyframes fadeInLog {
    to {
        opacity: 1;
    }
}

/* Resource Monitor */
.resource-card {
    margin-top: 20px;
}

.resource-label {
    font-size: 0.8rem;
    color: var(--text-secondary);
    display: flex;
    justify-content: space-between;
    margin-bottom: 5px;
}

.progress-track {
    background: rgba(255, 255, 255, 0.05);
    height: 6px;
    border-radius: 3px;
    overflow: hidden;
    margin-bottom: 15px;
}

.progress-fill {
    height: 100%;
    background: var(--accent-color);
    box-shadow: 0 0 10px var(--accent-color);
    width: 0%;
    transition: width 0.5s ease;
}

/* Controls */
.btn-control {
    width: 100%;
    padding: 10px;
    border-radius: 12px;
    font-weight: 600;
    font-size: 0.9rem;
    border: none;
    cursor: pointer;
    transition: all 0.2s;
}

.btn-control.stop {
    background: rgba(255, 71, 87, 0.1);
    color: var(--danger);
    border: 1px solid rgba(255, 71, 87, 0.3);
}

.btn-control.stop:hover {
    background: rgba(255, 71, 87, 0.2);
}

.btn-control.start {
    background: rgba(46, 204, 113, 0.1);
    color: var(--success);
    border: 1px solid rgba(46, 204, 113, 0.3);
}

.btn-control.start:hover {
    background: rgba(46, 204, 113, 0.2);
}

/* Mobile */
.menu-toggle {
    display: none;
    font-size: 1.5rem;
    color: white;
    cursor: pointer;
}

@media (max-width: 768px) {
    .sidebar {
        transform: translateX(-100%);
    }

    .sidebar.active {
        transform: translateX(0);
    }

    .main-content {
        margin-left: 0;
        padding: 20px;
    }

    .menu-toggle {
        display: block;
    }
}

/* View Sections */
.view-section {
    display: none;
    animation: fadeIn 0.4s ease;
}

.view-section.active {
    display: block;
}

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(10px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* User Profile Dropdown */
.user-profile {
    cursor: pointer;
    position: relative;
    padding: 5px;
    border-radius: 50px;
    transition: background 0.2s;
}

.user-profile:hover {
    background: rgba(255, 255, 255, 0.05);
}

.profile-dropdown {
    display: none;
    position: absolute;
    top: 60px;
    right: 0;
    width: 200px;
    background: rgba(15, 15, 15, 0.95);
    backdrop-filter: blur(20px);
    border: 1px solid var(--card-border);
    border-radius: 16px;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
    padding: 10px;
    z-index: 2000;
    animation: fadeInDropdown 0.2s ease;
}

.profile-dropdown.show {
    display: block;
}

@keyframes fadeInDropdown {
    from {
        opacity: 0;
        transform: translateY(-10px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.dropdown-item {
    color: var(--text-secondary);
    padding: 10px 15px;
    border-radius: 8px;
    font-size: 0.9rem;
    display: flex;
    align-items: center;
    gap: 10px;
    cursor: pointer;
    transition: all 0.2s;
    text-decoration: none;
}

.dropdown-item:hover {
    background: rgba(255, 255, 255, 0.08);
    color: #fff;
}

.dropdown-item i {
    width: 20px;
    text-align: center;
    color: var(--accent-color);
}

.dropdown-divider {
    height: 1px;
    background: var(--card-border);
    margin: 8px 0;
}

        .project-detail-content {
    background-color: #1a1a1a;
    border: 1px solid #333;
    border-radius: 20px;
    padding: 40px;
    margin-top: 30px;
    color: #ddd;
}

.highlight-box {
    background-color: #2a2a2a;
    border-left: 4px solid var(--accent-color);
    padding: 20px;
    margin: 20px 0;
    border-radius: 0 10px 10px 0;
}

.feature-icon {
    color: var(--accent-color);
    margin-right: 10px;
}

.code-snippet {
    background-color: #000;
    border: 1px solid #444;
    padding: 15px;
    border-radius: 5px;
    font-family: 'Courier New', Courier, monospace;
    color: #0f0;
    overflow-x: auto;
}

        /* --- DESIGN SYSTEM (Ref: Lime/Black/White) --- */
:root {
    --lime: #BAF149;
    /* Distinctive Lime from image */
    --dark: #121212;
    --grey-light: #F6F6F6;
    --grey-med: #E0E0E0;
    --white: #FFFFFF;
    --text-main: #000000;
    --text-sub: #757575;
}

* {
    box-sizing: border-box;
    -webkit-tap-highlight-color: transparent;
}

body {
    background-color: #f0f2f5;
    font-family: 'Plus Jakarta Sans', sans-serif;
    margin: 0;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
}

/* FRAME */
.app-frame {
    width: 100%;
    height: 100%;
    max-width: 414px;
    max-height: 896px;
    background: var(--white);
    position: relative;
    box-shadow: 0 40px 80px rgba(0, 0, 0, 0.1);
    display: flex;
    flex-direction: column;
    overflow: hidden;
}

@media (min-width: 500px) {
    .app-frame {
        height: 90vh;
        border-radius: 40px;
        border: 10px solid #000;
    }
}

/* HEADER */
.top-bar {
    padding: 50px 24px 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.user-welcome h3 {
    margin: 0;
    font-size: 1.5rem;
    font-weight: 700;
}

.user-welcome span {
    font-size: 0.9rem;
    color: var(--text-sub);
}

.notification-btn {
    width: 45px;
    height: 45px;
    border-radius: 50%;
    background: var(--white);
    border: 1px solid #eee;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
    position: relative;
}

.bg-lime {
    background-color: var(--lime) !important;
    color: black !important;
}

/* WALLET CARD */
.wallet-card {
    margin: 10px 24px;
    padding: 24px;
    border-radius: 32px;
    background: var(--white);
    border: 1px solid #f0f0f0;
    box-shadow: 0 10px 40px rgba(rgba(0, 0, 0, 0.04));
    text-align: center;
}

.wallet-label {
    font-size: 0.95rem;
    color: var(--text-sub);
    margin-bottom: 5px;
    font-weight: 500;
}

.wallet-amount {
    font-size: 2.8rem;
    font-weight: 800;
    color: var(--text-main);
    letter-spacing: -1px;
}

/* ACTION ROW */
.actions-row {
    display: flex;
    gap: 15px;
    margin: 20px 0 0;
    justify-content: center;
}

.act-btn {
    background: var(--dark);
    color: var(--lime);
    border: none;
    padding: 12px 30px;
    border-radius: 50px;
    font-weight: 600;
    font-size: 0.95rem;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 8px;
    transition: 0.2s;
}

.act-btn.secondary {
    background: var(--grey-light);
    color: var(--text-main);
}

.act-btn:active {
    transform: scale(0.95);
}

/* INDIVIDUAL STATS (Horizontal Scroll) */
.stats-scroller {
    display: flex;
    overflow-x: auto;
    gap: 15px;
    padding: 10px 24px;
    scroll-snap-type: x mandatory;
    margin-bottom: 20px;
    scrollbar-width: none;
}

.stats-scroller::-webkit-scrollbar {
    display: none;
}

.stat-card {
    min-width: 140px;
    background: var(--grey-light);
    border-radius: 24px;
    padding: 20px;
    scroll-snap-align: start;
    flex-shrink: 0;
    position: relative;
}

.stat-card.active-user {
    background: var(--dark);
    color: white;
}

.stat-card.active-user .stat-lbl {
    color: #888;
}

.stat-lbl {
    font-size: 0.75rem;
    color: var(--text-sub);
    font-weight: 600;
    text-transform: uppercase;
}

.stat-val {
    font-size: 1.2rem;
    font-weight: 700;
    margin: 5px 0 2px;
}

.stat-sub {
    font-size: 0.7rem;
    opacity: 0.7;
}

/* LIST SECTION */
.section-header {
    padding: 0 24px 15px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.sec-title {
    font-weight: 700;
    font-size: 1.1rem;
}

.tx-list {
    flex: 1;
    overflow-y: auto;
    padding: 0 24px 100px;
}

.tx-item {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 20px;
    cursor: pointer;
}

.tx-icon {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    background: var(--grey-light);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
    margin-right: 15px;
}

.tx-info h5 {
    margin: 0;
    font-size: 1rem;
    font-weight: 700;
}

.tx-info p {
    margin: 2px 0 0;
    font-size: 0.8rem;
    color: var(--text-sub);
}

.tx-amt {
    font-weight: 700;
    font-size: 1rem;
}

/* BOTTOM NAV */
.bottom-nav {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    background: var(--white);
    height: 85px;
    display: flex;
    justify-content: space-around;
    align-items: center;
    border-top: 1px solid #eee;
    padding-bottom: 20px;
}

.nav-link {
    color: #ccc;
    font-size: 1.5rem;
    position: relative;
}

.nav-link.active {
    color: var(--dark);
}

.nav-btn-main {
    width: 60px;
    height: 60px;
    background: var(--dark);
    border-radius: 20px;
    color: var(--lime);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
    transform: translateY(-20px);
}

/* MODAL (Same interaction, styled for new theme) */
.modal-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5);
    z-index: 200;
    opacity: 0;
    pointer-events: none;
    transition: 0.3s;
}

.modal-body {
    position: absolute;
    bottom: 0;
    width: 100%;
    height: 92%;
    background: var(--white);
    border-radius: 40px 40px 0 0;
    z-index: 201;
    transform: translateY(100%);
    transition: 0.4s cubic-bezier(0.2, 0.8, 0.2, 1);
    padding: 30px;
    display: flex;
    flex-direction: column;
}

.modal-open .modal-overlay {
    opacity: 1;
    pointer-events: all;
}

.modal-open .modal-body {
    transform: translateY(0);
}

/* --- NEW SPLIT INPUT LAYOUT --- */
.modal-input-row {
    display: flex;
    gap: 15px;
    margin: 20px 0;
}

.input-group-modern {
    flex: 1;
    background: #F7F9FC;
    border-radius: 20px;
    padding: 15px;
    display: flex;
    flex-direction: column;
    border: 1px solid transparent;
    transition: 0.2s;
}

.input-group-modern:focus-within {
    background: #fff;
    border-color: var(--lime);
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);
}

.lbl-sm {
    font-size: 0.75rem;
    color: #888;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin-bottom: 8px;
}

.inp-seamless {
    border: none;
    background: transparent;
    font-family: 'Plus Jakarta Sans', sans-serif;
    font-weight: 700;
    color: var(--text-main);
    outline: none;
    width: 100%;
}

.payer-select {
    font-size: 0.95rem;
    /* Standard readable size */
    cursor: pointer;
}

.amt-wrapper {
    display: flex;
    align-items: baseline;
}

.currency-prefix {
    font-size: 1.2rem;
    margin-right: 4px;
    color: #aaa;
}

.amt-input-med {
    font-size: 1.8rem;
    letter-spacing: -1px;
    width: 100%;
    border: none;
    outline: none;
    font-weight: 700;
    background: transparent;
}

.product-input {
    font-size: 1.1rem;
    padding: 5px 0;
}


.user-chip {
    padding: 8px 12px;
    border-radius: 50px;
    background: var(--grey-light);
    display: flex;
    align-items: center;
    gap: 8px;
    margin-right: 10px;
    cursor: pointer;
    border: 2px solid transparent;
    transition: 0.2s;
}

.user-chip.selected {
    background: #e8f5e9;
    border-color: var(--lime);
}

.chip-avatar {
    width: 24px;
    height: 24px;
    border-radius: 50%;
    background: #ccc;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.6rem;
    color: white;
}

/* Input hiding utility */

.split-opt {
    flex: 1;
    text-align: center;
    padding: 10px;
    border-radius: 12px;
    font-weight: 700;
    font-size: 0.8rem;
    color: #888;
    cursor: pointer;
    transition: 0.2s;
}

.split-opt.active {
    background: var(--white);
    color: var(--dark);
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
}

.check-chip {
    padding: 8px 15px;
    border-radius: 20px;
    border: 1px solid #ddd;
    color: #888;
    font-weight: 600;
    font-size: 0.85rem;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 8px;
}

.check-chip.active {
    background: var(--dark);
    color: var(--lime);
    border-color: var(--dark);
}
    </style>
    

<body>
    <div class="bento-container">
        <div class="card profile-card" style="grid-area: profile;">
            <div class="profile-content-left">
                <div class="profile-branding">
                    <div class="avatar-placeholder">NB</div>
                    <h1>Niranjan Balaji J</h1>
                    <p class="subtitle">Aspiring "Associate Product Manager"</p>
                </div>

                <div class="profile-contact-details">
                    <p><i class="fas fa-map-marker-alt"></i> Chennai, Tamil Nadu, India</p>
                    <p><i class="fas fa-envelope"></i> niranjankrishna0910@gmail.com</p>
                    <p><i class="fas fa-phone"></i> +91 63691 74151</p>
                </div>

                <div class="action-buttons">
                    <a href="mailto:niranjankrishna0910@gmail.com" class="btn primary">Contact Me</a>
                </div>
            </div>

            <div class="profile-image-right">
                <img src="assets/img/nb.jpg" alt="Profile Placeholder">
            </div>
        </div>

        <div class="card objective-card" style="grid-area: objective;">
            <h3><u>About</u></h3>
            <br>
            <p>Technically versatile professional with experience as a <strong>PHP Developer</strong>, <strong>UI/UX
                    Designer</strong>, and <strong>Implementation Engineer</strong>.
                Skilled in Full Stack Web Development (PHP/Laravel), Product Design (Figma), and deploying
                client-centric solutions.
                Passionate about leveraging this cross-functional expertise in Engineering, Design, and Strategy to
                solve complex user problems as an <strong>Associate Product Manager</strong>.
            </p>
        </div>

        <div class="card stat-card" style="grid-area: stat1;">
            <h3>20% <i class="fas fa-arrow-trend-up"
                    style="color: var(--accent-color); font-size: 0.8em; margin-left: 5px;"></i></h3>
            <p>Enhanced User Engagement</p>
        </div>
        <div class="card stat-card" style="grid-area: stat2;">
            <h3>30% <i class="fas fa-arrow-trend-down"
                    style="color: var(--accent-color); font-size: 0.8em; margin-left: 5px;"></i></h3>
            <p>Reduced Support Queries</p>
        </div>
        <div class="card stat-card" style="grid-area: stat3;">
            <h3>100%</h3>
            <p>Client Satisfaction</p>
        </div>

        <div class="card experience-card" style="grid-area: exp;">
            <h3><u>Experience</u></h3>
            <br>
            <div class="exp-item">
                <div class="exp-header">
                    <h3>PHP Developer</h3>
                    <span class="company">Moiboo</span>
                    <span class="date" style="color: #8abd00">Oct 2024 - Present</span>
                </div>
                <ul>
                    <li>Developed product solutions for Moiboo and Melbiflask.</li>
                    <li>Designed user-interactive web pages.</li>
                    <li>Led product updates for data-driven enhancements.</li>
                </ul>
            </div>
            <hr>
            <div class="exp-item">
                <div class="exp-header">
                    <h3>UI/UX Designer</h3>
                    <span class="company">ZenHook</span>
                    <span class="date">Jul 2024 - Sep 2024</span>
                </div>
                <ul>
                    <li>Supported Through remote and help to create a websites.</li>
                    <li>Product has been successfully launched.</li>
                </ul>
            </div>
            <hr>
            <div class="exp-item">
                <div class="exp-header">
                    <h3>Implementation Engineer (Support/Testing)</h3>
                    <span class="company">Logimax</span>
                    <span class="date">Jun 2023 - Jul 2024</span>
                </div>
                <ul>
                    <li>Supported onsite deployments and client training.</li>
                    <li>Iteratively improved solutions based on client feedback.</li>
                    <li>Led product documentation and QA testing.</li>
                </ul>
            </div>
        </div>
        <div class="card project-card" style="grid-area: project1;">
            <a href="projects.html" class="view-more-btn" title="View More"><i class="fas fa-plus"></i>View More</a>
            <h3><u> Projects (Case Study) </u></h3>
            <br>
            <p class="tag">Travel Life Support App</p>
            <ul>
                <li>Designed mobile app matching user travel experiences.</li>
                <li>Implemented personalized tracking features.</li>
                <li>Used Figma for wireframing and user testing.</li>
            </ul>
        </div>

        <!-- Project 2 (Future/Stats) -->
        <div class="card project-stat-card" style="grid-area: project2;">
            <div class="project-count">5+</div>
            <div class="project-stat-title">PM Tools Mastered</div>
            <div class="project-icons">
                <span class="icon-circle accent" data-name="Strategy">
                    <i class="fas fa-lightbulb"></i>
                </span>
                <span class="icon-circle" data-name="Jira">
                    <i class="fab fa-jira"></i>
                </span>
                <span class="icon-circle" data-name="Trello">
                    <i class="fab fa-trello"></i>
                </span>
                <span class="icon-circle" data-name="Figma">
                    <i class="fab fa-figma"></i>
                </span>
                <span class="icon-circle" data-name="Analytics">
                    <i class="fas fa-chart-bar"></i>
                </span>
                <span class="icon-circle" data-name="Sprints">
                    <i class="fas fa-fire"></i>
                </span>
                <span class="icon-circle" data-name="Confluence">
                    <i class="fab fa-confluence"></i>
                </span>
                <span class="icon-circle" data-name="Slack">
                    <i class="fab fa-slack"></i>
                </span>
                <span class="icon-circle" data-name="Asana">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" width="18" height="18"
                        fill="currentColor">
                        <path
                            d="M112 112c0-35.3-28.7-64-64-64S-16 76.7-16 112s28.7 64 64 64 64-28.7 64-64zm0 288c0-35.3-28.7-64-64-64S-16 364.7-16 400s28.7 64 64 64 64-28.7 64-64zM272 256c0-35.3-28.7-64-64-64s-64 28.7-64 64 28.7 64 64 64 64-28.7 64-64z" />
                    </svg>
                </span>
            </div>
        </div>

        <div class="card skills-card" style="grid-area: skills;">
            <h3><u>Skills</u></h3>
            <br>
            <div class="skill-category">
                <h4>Product</h4>
                <div class="tags">
                    <span>Requirements Gathering</span>
                    <span>Spec Writing</span>
                    <span>User Flows</span>
                    <span>Product Analytics</span>
                </div>
            </div>

            <div class="skill-category">
                <h4>Design (UI/UX)</h4>
                <div class="tags">
                    <span>Figma</span>
                    <span>Adobe Illustrator</span>
                    <span>Wireframing</span>
                    <span>Prototyping</span>
                    <span>User Empathy</span>
                </div>
            </div>

            <div class="skill-category">
                <h4>Technical & AI</h4>
                <div class="tags">
                    <span>Gen AI (LLMs)</span>
                    <span>Vibe Coding (AI-Assisted Dev)</span>
                    <span>SDLC</span>
                    <span>PHP</span>
                    <span>Laravel</span>
                    <span>MySQL</span>
                    <span>HTML5</span>
                    <span>CSS3</span>
                    <span>JavaScript</span>
                </div>
            </div>

            <div class="skill-category">
                <h4>Data & Operations</h4>
                <div class="tags">
                    <span>Data Analysis</span>
                    <span>Data Visualization (Excel)</span>
                    <span>Stakeholder Management</span>
                    <span>Client Implementation</span>
                </div>
            </div>
        </div>

        <div class="card education-card" style="grid-area: edu;">
            <h3><u>Education</u></h3>
            <br>
            <h3>Bachelor of Engineering (ECE)</h3>
            <p>NSCET, 2018-2022</p>
            <div class="certifications">
                <h4>Certifications</h4>
                <div class="tags">
                    <span style="color: var(--accent-highlight);">UI/UX Designer (upGrad)</span>
                </div>
            </div>
        </div>

        <div class="card social-card" style="grid-area: social;">
            <h3><u>Connect</u></h3>
            <br>
            <div class="social-links">
                <a href="https://behance.net/niranjankrishna2" target="_blank" class="social-btn behance">Behance</a>
                <a href="#" target="_blank" class="social-btn linkedin">LinkedIn</a>
            </div>
        </div>

        <div class="card extra-card" style="grid-area: extra;">
            <h3><u>Interests & Languages</u></h3>
            <br>
            <p><strong>Languages:</strong> Tamil (Native), English (Professional)</p>
            <p><strong>Interests:</strong> Sports, Travel, Tech Solutions</p>
        </div>

        <div class="card inquiry-card" style="grid-area: inquiry;">
            <img src="assets/img/laptop.png" class="floating-icon laptop" alt="Laptop">
            <img src="assets/img/notepad.png" class="floating-icon notepad" alt="Notepad">
            <img src="assets/img/pen_coffee.png" class="floating-icon pen-coffee" alt="Pen and Coffee">
            <img src="assets/img/headphones.png" class="floating-icon headphones" alt="Headphones">
            <img src="assets/img/plant.png" class="floating-icon plant" alt="Plant">
            <img src="assets/img/mouse.png" class="floating-icon mouse" alt="Mouse">
            <img src="assets/img/tablet.png" class="floating-icon tablet" alt="Tablet">
            <img src="assets/img/glasses.png" class="floating-icon glasses" alt="Glasses">
            <div class="inquiry-content">
                <div class="inquiry-icon accent-bg"><i class="fas fa-paper-plane"></i></div>
                <h3>Have a project<br>in mind?</h3>
                <a href="mailto:niranjankrishna0910@gmail.com" class="btn primary copy-btn">Copy Email</a>
            </div>
        </div>
    </div>
</body>

    <script>
        document.querySelector('.copy-btn').addEventListener('click', function (e) {
            e.preventDefault();
            const email = 'niranjankrishna0910@gmail.com';
            navigator.clipboard.writeText(email).then(() => {
                const originalText = this.innerText;
                this.innerText = 'Copied!';
                this.style.background = '#4CAF50'; 
                this.style.color = 'white';

                setTimeout(() => {
                    this.innerText = originalText;
                    this.style.background = ''; 
                    this.style.color = '';
                }, 2000);
            }).catch(err => {
                console.error('Failed to copy text: ', err);
            });
        });

// Tooltip functionality for Project Icons
$(document).ready(function() {
    const $tooltip = $('<div class="tool-toast"></div>').appendTo('body');

    $('.project-icons .icon-circle').hover(
        function(e) {
            const name = $(this).data('name');
            if (!name) return;

            $tooltip.text(name).addClass('visible');
            
            // Position tooltip above the icon
            const offset = $(this).offset();
            const width = $(this).outerWidth();
            const tooltipWidth = $tooltip.outerWidth();
            
            $tooltip.css({
                top: offset.top - $tooltip.outerHeight() - 10,
                left: offset.left + (width / 2) - (tooltipWidth / 2)
            });
        },
        function() {
            $tooltip.removeClass('visible');
        }
    );
});

        // --- 1. CONFIG: EXACT USER DATA ---
const DB = {
    users: [
        { id: 'u1', name: 'User 1', sub: 'Sakthi', bal: 1365.07, emg: 125.4, color: '#FFB74D' },
        { id: 'u2', name: 'User 2', sub: 'Sudhar', bal: 1400.57, emg: 493.0, color: '#4DB6AC' },
        { id: 'u3', name: 'User 3', sub: 'Prasanna', bal: 1394.60, emg: 542.9, color: '#9575CD' },
        { id: 'u4', name: 'User 4', sub: 'Harun', bal: 1450.00, emg: 500.0, color: '#64B5F6' }
    ],
    transactions: [
        { id: 1, title: 'Pool Contribution', date: 'Oct 01', amt: 4500, type: 'credit' },
        { id: 2, title: 'Snacks & Tea', date: 'Oct 05', amt: -340, type: 'debit' }
    ],
    totalBal: 4160
};

let STATE = {
    splitMode: 'equal', // 'equal' | 'unequal'
    selectedForEqual: ['u1', 'u2', 'u3', 'u4'] // Default all
};

function init() {
    render();

    // Remove real-time listener
}

function applyEqualSplit() {
    // Only render UI when explicitly requested
    if (STATE.splitMode === 'equal') {
        renderSplitUI();
    }
}

function render() {
    // 1. Total
    document.getElementById('global-balance').innerText = DB.totalBal.toLocaleString();

    // 2. Member Cards
    const scroller = document.getElementById('member-scroller');
    scroller.innerHTML = DB.users.map(u => `
            <div class="stat-card">
                <div style="display:flex; justify-content:space-between; align-items:center;">
                    <div class="stat-lbl">${u.name}</div>
                    <div style="width:10px; height:10px; border-radius:50%; background:${u.color};"></div>
                </div>
                <div class="stat-val">${u.bal.toFixed(2)}</div>
                <div class="stat-sub">rem. balance</div>
                
                <div style="margin-top:10px; padding-top:10px; border-top:1px solid rgba(0,0,0,0.05);">
                    <div class="stat-lbl" style="font-size:0.65rem;">Emergency Fund</div>
                    <div style="font-weight:600; font-size:0.9rem;">${u.emg}</div>
                </div>
            </div>
        `).join('');

    // 3. Transactions
    const list = document.getElementById('tx-history');
    list.innerHTML = DB.transactions.slice().reverse().map(t => `
            <div class="tx-item">
                <div style="display:flex; align-items:center;">
                    <div class="tx-icon">
                        ${t.amt > 0 ? '<i class="fas fa-arrow-down" style="color:#4CAF50;"></i>' : '<i class="fas fa-shopping-bag" style="color:#000;"></i>'}
                    </div>
                    <div class="tx-info">
                        <h5>${t.title}</h5>
                        <p>${t.date}</p>
                    </div>
                </div>
                <div class="tx-amt" style="color: ${t.amt > 0 ? '#4CAF50' : '#000'};">
                    ${t.amt > 0 ? '+' : ''}${Math.abs(t.amt)}
                </div>
            </div>
        `).join('');
}

// --- MODAL LOGIC ---
function openModal() {
    document.body.classList.add('modal-open');
    renderSplitUI();
}
function closeModal() { document.body.classList.remove('modal-open'); }

function setSplitMode(mode) {
    STATE.splitMode = mode;

    // UI Tabs Update
    const equalTab = document.getElementById('tab-equal');
    const unequalTab = document.getElementById('tab-unequal');

    if (mode === 'equal') {
        equalTab.classList.add('active');
        equalTab.style.color = 'var(--dark)';
        equalTab.style.borderBottom = '2px solid var(--dark)';

        unequalTab.classList.remove('active');
        unequalTab.style.color = '#aaa';
        unequalTab.style.borderBottom = 'none';

        document.getElementById('section-equal').style.display = 'block';
        document.getElementById('section-unequal').style.display = 'none';
    } else {
        unequalTab.classList.add('active');
        unequalTab.style.color = 'var(--dark)';
        unequalTab.style.borderBottom = '2px solid var(--dark)';

        equalTab.classList.remove('active');
        equalTab.style.color = '#aaa';
        equalTab.style.borderBottom = 'none';

        document.getElementById('section-equal').style.display = 'none';
        document.getElementById('section-unequal').style.display = 'block';
    }

    renderSplitUI();
}

function toggleBeneficiary(uid) {
    if (STATE.selectedForEqual.includes(uid)) {
        STATE.selectedForEqual = STATE.selectedForEqual.filter(id => id !== uid);
    } else {
        STATE.selectedForEqual.push(uid);
    }
    renderSplitUI();
}

function renderSplitUI() {
    // 0. Get current total
    const totalAmt = parseFloat(document.getElementById('inp-amt').value) || 0;

    // 1. Equal List (Google Pay Style)
    if (STATE.splitMode === 'equal') {
        const count = STATE.selectedForEqual.length;
        const perPerson = count > 0 ? (totalAmt / count).toFixed(2) : '0.00';

        const container = document.getElementById('section-equal');
        container.innerHTML = DB.users.map(u => {
            const isActive = STATE.selectedForEqual.includes(u.id);
            return `
                <div onclick="toggleBeneficiary('${u.id}')" style="display:flex; align-items:center; justify-content:space-between; padding:15px 0; border-bottom:1px solid #f9f9f9; cursor:pointer;">
                    <div style="display:flex; align-items:center; gap:15px;">
                        <div style="width:24px; height:24px; border-radius:50%; border:2px solid ${isActive ? 'var(--lime)' : '#ddd'}; display:flex; align-items:center; justify-content:center; background:${isActive ? 'var(--lime)' : 'transparent'};">
                            ${isActive ? '<i class="fas fa-check" style="font-size:0.7rem; color:black;"></i>' : ''}
                        </div>
                        <div style="width:40px; height:40px; border-radius:50%; background:${u.color}; display:flex; align-items:center; justify-content:center; color:white; font-size:0.9rem;">
                            ${u.sub.substring(0, 2)}
                        </div>
                        <span style="font-weight:600; font-size:1rem; opacity:${isActive ? '1' : '0.6'};">${u.sub}</span>
                    </div>
                    
                    <div style="font-weight:700; font-size:1rem; color:${isActive ? 'black' : '#ccc'};">
                        ${isActive ? perPerson : '0.00'}
                    </div>
                </div>
            `;
        }).join('');
    }

    // 2. Unequal List (Manual Inputs)
    if (STATE.splitMode === 'unequal') {
        const inputContainer = document.getElementById('section-unequal');
        // Only render if empty to avoid overwriting typed values on re-render, 
        // BUT for switching modes we might want to refresh. Let's just re-render for simplicity 
        // as per "empty" request.
        inputContainer.innerHTML = DB.users.map(u => `
            <div style="display:flex; align-items:center; justify-content:space-between; margin-bottom:15px; padding:10px; background:#f9f9f9; border-radius:15px;">
                <div style="display:flex; align-items:center; gap:10px;">
                    <div class="chip-avatar" style="background:${u.color}; width:35px; height:35px; font-size:0.8rem;">${u.sub.substring(0, 2)}</div>
                    <span style="font-weight:600;">${u.sub}</span>
                </div>
                <div style="display:flex; align-items:center; gap:5px;">
                    <span style="color:#aaa;"></span>
                    <input type="number" id="split-${u.id}" class="split-inp" placeholder="0" 
                           style="width:70px; border:none; background:transparent; font-weight:bold; font-size:1.1rem; text-align:right;">
                </div>
            </div>
        `).join('');
    }
}

function triggerDemo() {
    // 1. Set to Unequal Mode
    setSplitMode('unequal');

    // 2. Fill Data
    document.getElementById('inp-desc').value = 'Groceries';
    document.getElementById('inp-amt').value = 239;
    document.getElementById('inp-payer').value = 'u1'; // Sakthi

    // 3. Fill Splits (Wait for render)
    setTimeout(() => {
        document.getElementById('split-u1').value = 89.7;
        document.getElementById('split-u2').value = 59;
        document.getElementById('split-u3').value = 89.3;
    }, 50);
}

function submitExpense() {
    const amt = parseFloat(document.getElementById('inp-amt').value);
    if (!amt) return;

    if (STATE.splitMode === 'equal') {
        const count = STATE.selectedForEqual.length;
        if (count > 0) {
            const perPerson = amt / count;
            STATE.selectedForEqual.forEach(uid => {
                const u = DB.users.find(user => user.id === uid);
                if (u) u.bal -= perPerson;
            });
        }
    } else {
        // Unequal Logic
        DB.users.forEach(u => {
            const split = parseFloat(document.getElementById('split-' + u.id).value) || 0;
            u.bal -= split;
        });
    }

    // Update Total
    DB.totalBal -= amt;

    // Add Tx
    DB.transactions.push({
        id: Date.now(),
        title: document.getElementById('inp-desc').value,
        date: 'Oct 12',
        amt: -amt,
        type: 'debit'
    });

    render();
    closeModal();
}

init();
    </script>

</html>
